#!/bin/bash
# claude-docker - Run Claude in a Docker container
# Routes to either global mode (-g) or project mode (default)

set -e

# Get the directory where this script lives (resolves symlinks).
# This allows the script to find sibling files (other scripts, config, etc.)
# regardless of where it's called from or whether it's accessed via symlink.
get_script_dir() {
    cd "$(dirname "${BASH_SOURCE[0]}")" && pwd
}

SCRIPT_DIR="$(get_script_dir)"

# Check for global mode flag
if [[ "$1" == "-g" ]] || [[ "$1" == "--global" ]]; then
    shift
    exec "$SCRIPT_DIR/claude-docker-global" "$@"
else
    exec "$SCRIPT_DIR/claude-docker-project" "$@"
fi
