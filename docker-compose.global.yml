version: '3.8'

# Global mode: Long-running container with persistent workspace
# Use with: docker-compose -f docker-compose.base.yml -f docker-compose.global.yml up

services:
  claude:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: claude-docker-global

    volumes:
      - ./workspace:/workspace

    # Keep container running for docker exec access
    command: ["/setup-container/keep-alive.sh"]

    restart: unless-stopped
